{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="service-detail-container">
    <!-- Header Section -->
    <header class="service-header">
        <div class="service-meta">
            <span class="service-number">Usługa #{{ service.nr }}</span>
            <span class="field-tag">{{ service.field.name }}</span>
        </div>
        <h1 class="service-title">{{ service.title }}</h1>
    </header>

    <!-- Main Info Section -->
    <div class="main-info-section">
        {% if service.image1 %}
        <div class="primary-image">
            <img src="{{ service.image1.url }}" alt="Główne zdjęcie" class="featured-image">
        </div>
        {% endif %}
        
        <div class="key-details">
            <div class="price-highlight">
                <h3>Zakres cenowy (lokalny)</h3>
                <p class="price-range">{{ service.local_price_min }} - {{ service.local_price_max }} PLN</p>
            </div>
            
            <div class="market-status">
                <div class="status-item">
                    <strong>Popyt:</strong>
                    <span class="badge {{ service.demand_level }}">
                        {{ service.get_demand_level_display }}
                    </span>
                </div>
                <div class="status-item">
                    <strong>Podaż lokalna:</strong>
                    <span class="badge {{ service.local_supply }}">
                        {{ service.get_local_supply_display }}
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Short Description -->
    <section class="short-description">
        <h2>Opis usługi</h2>
        <div class="description-text">
            {{ service.description|truncatewords:100 }}
        </div>
    </section>

    <!-- Second Image and Features -->
    {% if service.image2 %}
    <div class="secondary-image">
        <img src="{{ service.image2.url }}" alt="Dodatkowe zdjęcie" class="full-width-image">
    </div>
    {% endif %}

    <!-- Detailed Features -->
    {% if service.feature_1_name or service.feature_2_name %}
    <section class="service-features">
        <div class="features-grid">
            {% if service.feature_1_name %}
            <div class="feature-card">
                <h3>{{ service.feature_1_name }}</h3>
                <p>{{ service.feature_1_ranges }}</p>
                <span class="range-number">Zakres #{{ service.range_number_1 }}</span>
            </div>
            {% endif %}

            {% if service.feature_2_name %}
            <div class="feature-card">
                <h3>{{ service.feature_2_name }}</h3>
                <p>{{ service.feature_2_ranges }}</p>
                <span class="range-number">Zakres #{{ service.range_number_2 }}</span>
            </div>
            {% endif %}
        </div>
    </section>
    {% endif %}

    <!-- Third Image -->
    {% if service.image3 %}
    <div class="tertiary-image">
        <img src="{{ service.image3.url }}" alt="Dodatkowe zdjęcie" class="full-width-image">
    </div>
    {% endif %}

    <!-- Technical Details -->
    <section class="technical-details">
        <h2>Szczegóły techniczne</h2>
        <div class="details-grid">
            <div class="detail-card">
                <h3>Ceny rynkowe</h3>
                <p>{{ service.price_min }} - {{ service.price_max }} PLN</p>
                <p class="coefficient">Współczynnik ceny: {{ service.price_coefficient }}</p>
            </div>
            
            <div class="detail-card">
                <h3>Współczynniki</h3>
                <p>Popyt: {{ service.demand_coefficient }}</p>
                <p>Podaż: {{ service.supply_coefficient }}</p>
                <p>Wycena: {{ service.valuation_coefficient }}</p>
            </div>
        </div>
    </section>

    <!-- Actions -->
    <div class="service-actions">
        <a href="{% url 'Services:services' %}" class="btn btn-back">
            ← Powrót do listy usług
        </a>
        <a href="{% url 'Contact:contact_service' service_id=service.id %}" class="btn btn-primary">
            Zapytaj o usługę
        </a>
    </div>
</div>
{% endblock %}

{% block extra_css %}


{% endblock %}